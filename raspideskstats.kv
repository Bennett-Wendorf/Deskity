<MainBoxLayout>:
    orientation: "horizontal"
    padding: 3
    spacing: 5
    BoxLayout:
        orientation: "vertical"
        WeatherWidget:
        # Button:
        #     text: "App Location Placeholder"
    ToDoWidget:
        id: to_do_widget
        name: 'to_do_widget'
        orientation: 'vertical'
        data: [x for x in self.to_do_tasks if x['isVisible']]
        viewclass: 'TaskItem'
        RecycleBoxLayout:
            default_size: None, dp(56)
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'

<WeatherWidget>:
    id: weather_widget
    orientation: "horizontal"
    weather_icon: weather_icon
    AsyncImage:
        id: weather_icon
        source: None
    BoxLayout:
        orientation: "vertical"
        Label:
            text: str(int(root.Get_Temp())) + "°"
            font_size: '40sp'
        Label:
            text: "Feels like: " + str(int(root.Get_Feels())) + "°"

<TaskItem>:
    name: "Task Item"
    size_hint_y: 1 if self.isVisible else None
    height: 1 if self.isVisible else 0
    opacity: 1 if self.isVisible else 0
    disabled: not self.isVisible
    CheckBox:
        pos_hint: {'center_x': 0.05, 'center_y': 0.5}
        size_hint_x: .1
        size_hint_y: .9 if root.isVisible else None
        height: 1 if root.isVisible else '0dp'
        label: "Test"
        active: True if root.status == 'completed' else False
    Label:
        pos_hint: {'center_x': 0.57, 'center_y': 0.5}
        size_hint_x: .86
        size_hint_y: .9 if root.isVisible else None
        height: 1 if root.isVisible else '0dp'
        text: root.title
        text_size: self.width, None
        canvas.before:
            Color:
                rgba: 0,.1,.3,1
            Rectangle:
                pos: self.pos
                size: self.size
