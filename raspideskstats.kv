<MainBoxLayout>:
    orientation: "horizontal"
    padding: 3
    spacing: 5
    canvas.before:
        Color:
            rgb: .1, .1, .1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: "vertical"
        WeatherWidget:
        # Button:
        #     text: "App Location Placeholder"
    ToDoWidget:
        id: to_do_widget
        name: 'to_do_widget'
        orientation: 'vertical'
        data: [x for x in self.to_do_tasks if x['isVisible']]
        viewclass: 'TaskItem'
        RecycleBoxLayout:
            default_size: None, dp(56)
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'

<WeatherWidget>:
    id: weather_widget
    orientation: "horizontal"
    weather_icon: weather_icon
    AsyncImage:
        id: weather_icon
        source: None
    BoxLayout:
        orientation: "vertical"
        Label:
            text: str(int(root.Get_Temp())) + "°"
            font_size: '40sp'
        Label:
            text: "Feels like: " + str(int(root.Get_Feels())) + "°"
            font_size: '20sp'

<TaskItem>:
    name: "Task Item"
    size_hint_y: 1 if self.isVisible else None
    height: 1 if self.isVisible else 0
    opacity: 1 if self.isVisible else 0
    disabled: not self.isVisible
    canvas:
        Color:
            rgba: .8, .8, .8, 1
        Line:
            points: 0,0,self.width,0
            width:1 
    CheckBox:
        id: "checkbox"
        pos_hint: {'center_x': 0.07, 'center_y': 0.5}
        size_hint_x: .1
        size_hint_y: .9 if root.isVisible else None
        height: 1 if root.isVisible else '0dp'
        active: True if root.status == 'completed' else False
        background_checkbox_normal: 'atlas://res/icons/custom_atlas/blue_check_unchecked'
        background_checkbox_down: 'atlas://res/icons/custom_atlas/blue_check'
    Label:
        pos_hint: {'center_x': 0.57, 'center_y': 0.5}
        size_hint_x: .86
        size_hint_y: .9 if root.isVisible else None
        height: 1 if root.isVisible else '0dp'
        text: root.title
        text_size: self.width, None
        font_size: 20